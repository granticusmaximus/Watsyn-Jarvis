{"ast":null,"code":"var _jsxFileName = \"/Users/grantwatson/Desktop/Development/ReactJS/Watsyn-Jarvis/src/components/ClientData/Client.js\";\nimport React, { Component } from 'react';\nimport fire from '../Firebase/fire';\n\nclass Client extends Component {\n  constructor(props) {\n    super(props);\n\n    this.writeClientData = () => {\n      fire.database().ref('clients').set(this.state);\n      console.log('DATA SAVED');\n    };\n\n    this.getClientData = () => {\n      let ref = fire.database().ref('clients');\n      ref.on('value', snapshot => {\n        const state = snapshot.val();\n        this.setState(state);\n      });\n      console.log('DATA RETRIEVED');\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let businessName = this.refs.businessName.value;\n      let businessEmail = this.refs.businessEmail.value;\n      let businessPhone = this.refs.businessPhone.value;\n      let businessNotes = this.refs.businessNotes.value;\n      let uid = this.refs.uid.value;\n\n      if (uid && name && role && email) {\n        const developers = this.state.developers;\n        const devIndex = developers.findIndex(data => {\n          return data.uid === uid;\n        });\n        developers[devIndex].name = name;\n        developers[devIndex].role = role;\n        developers[devIndex].email = email;\n        this.setState({\n          developers\n        });\n      } else if (name && role) {\n        const uid = new Date().getTime().toString();\n        const developers = this.state.developers;\n        developers.push({\n          uid,\n          name,\n          email,\n          role\n        });\n        this.setState({\n          developers\n        });\n      }\n\n      this.refs.name.value = '';\n      this.refs.role.value = '';\n      this.refs.email.value = '';\n      this.refs.uid.value = '';\n    };\n\n    this.removeData = developer => {\n      const developers = this.state.developers;\n      const newState = developers.filter(data => {\n        return data.uid !== developer.uid;\n      });\n      this.setState({\n        developers: newState\n      });\n    };\n\n    this.updateData = developer => {\n      this.refs.uid.value = developer.uid;\n      this.refs.name.value = developer.name;\n      this.refs.role.value = developer.role;\n      this.refs.email.value = developer.email;\n    };\n\n    this.state = {\n      clients: []\n    };\n  }\n\n  componentDidMount() {\n    this.getClientData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // check on previous state\n    // only write when it's different with the new state\n    if (prevState !== this.state) {\n      this.writeClientData();\n    }\n  }\n\n  render() {\n    const clients = this.state.clients;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"bgf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Client List\")))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, clients.map(clients => React.createElement(\"div\", {\n      key: clients.uid,\n      className: \"card float-left\",\n      style: {\n        width: '18rem',\n        marginRight: '1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, clients.businessName), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, clients.businessEmail), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, clients.businessPhone), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, clients.businessNotes), React.createElement(\"button\", {\n      onClick: () => this.removeData(clients),\n      className: \"btn btn-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"button\", {\n      onClick: () => this.updateData(clients),\n      className: \"btn btn-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Edit\")))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Add new clients here\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      ref: \"uid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Business Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"businessName\",\n      className: \"form-control\",\n      placeholder: \"Enter Business Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Business Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      ref: \"businessEmail\",\n      className: \"form-control\",\n      placeholder: \"Enter Business Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"BusinessRole\"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"businessPhone\",\n      className: \"form-control\",\n      placeholder: \"Enter Business Phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      ref: \"uid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Notes\"), React.createElement(\"input\", {\n      type: \"textarea\",\n      ref: \"businessName\",\n      className: \"form-control\",\n      placeholder: \"Enter Notes here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Save\")))));\n  }\n\n}\n\n;\nexport default Client;","map":{"version":3,"sources":["/Users/grantwatson/Desktop/Development/ReactJS/Watsyn-Jarvis/src/components/ClientData/Client.js"],"names":["React","Component","fire","Client","constructor","props","writeClientData","database","ref","set","state","console","log","getClientData","on","snapshot","val","setState","handleSubmit","event","preventDefault","businessName","refs","value","businessEmail","businessPhone","businessNotes","uid","name","role","email","developers","devIndex","findIndex","data","Date","getTime","toString","push","removeData","developer","newState","filter","updateData","clients","componentDidMount","componentDidUpdate","prevProps","prevState","render","map","width","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport fire from '../Firebase/fire';\n\nclass Client extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      clients: []\n    }\n  }\n  writeClientData = () => {\n    fire.database().ref('clients').set(this.state);\n    console.log('DATA SAVED');\n  }\n  \n  getClientData = () => {\n    let ref = fire.database().ref('clients');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      this.setState(state);\n    });\n    console.log('DATA RETRIEVED');\n  }\n\n  componentDidMount() {\n    this.getClientData();\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    // check on previous state\n    // only write when it's different with the new state\n    if (prevState !== this.state) {\n      this.writeClientData();\n    }\n  }\n  render() {\n    const { clients } = this.state;\n    return(\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className='col-xl-12'>\n          <center><h1 className=\"bgf\">Client List</h1></center>\n          </div>\n        </div>\n        <div className='row'>\n          <div className='col-xl-12'>\n          { \n            clients\n            .map(clients => \n              <div key={clients.uid} className=\"card float-left\" style={{width: '18rem', marginRight: '1rem'}}>\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{ clients.businessName }</h5>\n                  <p className=\"card-text\">{ clients.businessEmail }</p>\n                  <p className=\"card-text\">{ clients.businessPhone }</p>\n                  <p className=\"card-text\">{ clients.businessNotes }</p>\n                  <button onClick={ () => this.removeData(clients) } className=\"btn btn-link\">Delete</button>\n                  <button onClick={ () => this.updateData(clients) } className=\"btn btn-link\">Edit</button>\n                </div>\n              </div>\n              )\n          } \n          </div>\n        </div>\n        <div className='row'>\n          <div className='col-xl-12'>\n            <h2>Add new clients here</h2>\n            <form onSubmit={ this.handleSubmit }>\n              <div className=\"form-row\">\n                <input type='hidden' ref='uid' />\n                <div className=\"form-group col-md-4\">\n                  <h4>Business Name</h4>\n                  <input type=\"text\" ref='businessName' className=\"form-control\" placeholder=\"Enter Business Name\" />\n                </div>\n                <div className=\"form-group col-md-4\">\n                  <h4>Business Email</h4>\n                  <input type=\"email\" ref='businessEmail' className=\"form-control\" placeholder=\"Enter Business Email\" />\n                </div>\n                <div className=\"form-group col-md-4\">\n                  <h4>BusinessRole</h4>\n                  <input type=\"text\" ref='businessPhone' className=\"form-control\" placeholder=\"Enter Business Phone\" />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <input type='hidden' ref='uid' />\n                <div className=\"form-group col-md-12\">\n                  <h4>Notes</h4>\n                  <input type=\"textarea\" ref='businessName' className=\"form-control\" placeholder=\"Enter Notes here\" />\n                </div>\n              </div>\n              <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  \n  handleSubmit = (event) => {\n    event.preventDefault();\n    let businessName = this.refs.businessName.value;\n    let businessEmail = this.refs.businessEmail.value;\n    let businessPhone = this.refs.businessPhone.value;\n    let businessNotes = this.refs.businessNotes.value;\n    let uid = this.refs.uid.value;\n  \n    if (uid && name && role && email){\n      const { developers } = this.state;\n      const devIndex = developers.findIndex(data => {\n        return data.uid === uid \n      });\n      developers[devIndex].name = name;\n      developers[devIndex].role = role;\n      developers[devIndex].email = email;\n      this.setState({ developers });\n    }\n    else if (name && role ) {\n      const uid = new Date().getTime().toString();\n      const { developers } = this.state;\n      developers.push({ uid, name, email, role })\n      this.setState({ developers });\n    }\n  \n    this.refs.name.value = '';\n    this.refs.role.value = '';\n    this.refs.email.value = '';\n    this.refs.uid.value = '';\n  }\n  \n  removeData = (developer) => {\n    const { developers } = this.state;\n    const newState = developers.filter(data => {\n      return data.uid !== developer.uid;\n    });\n    this.setState({ developers: newState });\n  }\n  \n  updateData = (developer) => {\n    this.refs.uid.value = developer.uid;\n    this.refs.name.value = developer.name;\n    this.refs.role.value = developer.role;\n    this.refs.email.value = developer.email;\n  }\n};\n\nexport default Client;"]},"metadata":{},"sourceType":"module"}