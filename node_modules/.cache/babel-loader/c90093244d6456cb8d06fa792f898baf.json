{"ast":null,"code":"var _jsxFileName = \"/Users/grantwatson/Desktop/Development/ReactJS/Watsyn-Jarvis/src/components/ClientData/Client.js\";\nimport React, { Component } from 'react';\nimport fire from '../Firebase/fire';\n\nclass Client extends Component {\n  constructor(props) {\n    super(props);\n\n    this._handleEdit = () => {\n      const _this$state = this.state,\n            editCardName = _this$state.editCardName,\n            keyCard = _this$state.keyCard,\n            keyList = _this$state.keyList; // console.log(editCardName);\n      // console.log(keyCard);\n\n      if (editCardName !== \"\") {\n        // console.log(\"You can edit\");\n        fire.database().ref(\"cards/\").update({\n          [keyCard]: {\n            cardName: editCardName,\n            listKey: keyList\n          }\n        });\n      } else {\n        // console.log(\"You can't edit\");\n        alert(\"Card cannot be empty\");\n      }\n    };\n\n    this.writeClientData = () => {\n      fire.database().ref('clients').set(this.state);\n      console.log('DATA SAVED');\n    };\n\n    this.getClientData = () => {\n      let ref = fire.database().ref('clients');\n      ref.on('value', snapshot => {\n        const state = snapshot.val();\n        this.setState(state);\n      });\n      console.log('DATA RETRIEVED');\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let businessName = this.refs.businessName.value;\n      let businessEmail = this.refs.businessEmail.value;\n      let businessPhone = this.refs.businessPhone.value;\n      let businessNotes = this.refs.businessNotes.value;\n      let uid = this.refs.uid.value;\n\n      if (uid && businessName && businessEmail && businessPhone && businessNotes) {\n        const clients = this.state.clients;\n        const clientIndex = clients.findIndex(data => {\n          return data.uid === uid;\n        });\n        clients[clientIndex].businessName = businessName;\n        clients[clientIndex].businessEmail = businessEmail;\n        clients[clientIndex].businessPhone = businessPhone;\n        clients[clientIndex].businessNotes = businessNotes;\n        this.setState({\n          clients\n        });\n      } else if (businessName && businessEmail) {\n        const uid = new Date().getTime().toString();\n        const clients = this.state.clients;\n        clients.push({\n          uid,\n          businessName,\n          businessEmail,\n          businessPhone,\n          businessNotes\n        });\n        this.setState({\n          clients\n        });\n      }\n\n      this.refs.businessName.value = '';\n      this.refs.businessEmail.value = '';\n      this.refs.businessPhone.value = '';\n      this.refs.businessNotes.value = '';\n    };\n\n    this.removeData = client => {\n      const clients = this.state.clients;\n      const newState = clients.filter(data => {\n        return data.uid !== client.uid;\n      });\n      this.setState({\n        clients: newState\n      });\n    };\n\n    this.updateData = client => {\n      this.refs.uid.value = client.uid;\n      this.refs.businessName.value = client.businessName;\n      this.refs.businessEmail.value = client.businessEmail;\n      this.refs.businessPhone.value = client.businessPhone;\n      this.refs.businessNotes.value = client.businessNotes;\n    };\n\n    this.state = {\n      clients: []\n    };\n  }\n\n  componentDidMount() {\n    this.getClientData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // check on previous state\n    // only write when it's different with the new state\n    if (prevState !== this.state) {\n      this.writeClientData();\n    }\n  }\n\n  render() {\n    const clients = this.state.clients;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Add new clients here\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      ref: \"uid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Business Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"businessName\",\n      className: \"form-control\",\n      placeholder: \"Enter Business Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Business Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      ref: \"businessEmail\",\n      className: \"form-control\",\n      placeholder: \"Enter Business Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Business Phone\"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"businessPhone\",\n      className: \"form-control\",\n      placeholder: \"Enter Business Phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      ref: \"uid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Notes\"), React.createElement(\"input\", {\n      type: \"textarea\",\n      ref: \"businessNotes\",\n      className: \"form-control\",\n      placeholder: \"Enter Notes here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Save\")))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"bgf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Client List\")))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xl-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, clients.map(clients => React.createElement(\"div\", {\n      key: clients.uid,\n      className: \"card float-left\",\n      style: {\n        width: '550px',\n        marginRight: '1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, clients.businessName), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, clients.businessEmail), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, clients.businessPhone), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, clients.businessNotes), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.showModal,\n      className: \"btn btn-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"View Client\"), ' ', React.createElement(\"button\", {\n      onClick: () => this.removeData(clients),\n      className: \"btn btn-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Delete\"), ' ', React.createElement(\"button\", {\n      onClick: () => this.updateData(clients),\n      className: \"btn btn-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Edit\"))))))));\n  }\n\n}\n\n;\nexport default Client;","map":{"version":3,"sources":["/Users/grantwatson/Desktop/Development/ReactJS/Watsyn-Jarvis/src/components/ClientData/Client.js"],"names":["React","Component","fire","Client","constructor","props","_handleEdit","state","editCardName","keyCard","keyList","database","ref","update","cardName","listKey","alert","writeClientData","set","console","log","getClientData","on","snapshot","val","setState","handleSubmit","event","preventDefault","businessName","refs","value","businessEmail","businessPhone","businessNotes","uid","clients","clientIndex","findIndex","data","Date","getTime","toString","push","removeData","client","newState","filter","updateData","componentDidMount","componentDidUpdate","prevProps","prevState","render","map","width","marginRight","showModal"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,kBAAjB;;AAEA,MAAMC,MAAN,SAAqBF,SAArB,CAA+B;AAC7BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,WARmB,GAQL,MAAM;AAAA,0BACyB,KAAKC,KAD9B;AAAA,YACVC,YADU,eACVA,YADU;AAAA,YACIC,OADJ,eACIA,OADJ;AAAA,YACaC,OADb,eACaA,OADb,EAElB;AACA;;AAEA,UAAIF,YAAY,KAAK,EAArB,EAAyB;AACvB;AAEAN,QAAAA,IAAI,CACDS,QADH,GAEGC,GAFH,CAEO,QAFP,EAGGC,MAHH,CAGU;AACN,WAACJ,OAAD,GAAW;AACTK,YAAAA,QAAQ,EAAEN,YADD;AAETO,YAAAA,OAAO,EAAEL;AAFA;AADL,SAHV;AASD,OAZD,MAYO;AACL;AACAM,QAAAA,KAAK,CAAC,sBAAD,CAAL;AACD;AACF,KA7BkB;;AAAA,SA+BnBC,eA/BmB,GA+BD,MAAM;AACtBf,MAAAA,IAAI,CAACS,QAAL,GAAgBC,GAAhB,CAAoB,SAApB,EAA+BM,GAA/B,CAAmC,KAAKX,KAAxC;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,KAlCkB;;AAAA,SAoCnBC,aApCmB,GAoCH,MAAM;AACpB,UAAIT,GAAG,GAAGV,IAAI,CAACS,QAAL,GAAgBC,GAAhB,CAAoB,SAApB,CAAV;AACAA,MAAAA,GAAG,CAACU,EAAJ,CAAO,OAAP,EAAgBC,QAAQ,IAAI;AAC1B,cAAMhB,KAAK,GAAGgB,QAAQ,CAACC,GAAT,EAAd;AACA,aAAKC,QAAL,CAAclB,KAAd;AACD,OAHD;AAIAY,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,KA3CkB;;AAAA,SA8HnBM,YA9HmB,GA8HHC,KAAD,IAAW;AACxBA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAIC,YAAY,GAAG,KAAKC,IAAL,CAAUD,YAAV,CAAuBE,KAA1C;AACA,UAAIC,aAAa,GAAG,KAAKF,IAAL,CAAUE,aAAV,CAAwBD,KAA5C;AACA,UAAIE,aAAa,GAAG,KAAKH,IAAL,CAAUG,aAAV,CAAwBF,KAA5C;AACA,UAAIG,aAAa,GAAG,KAAKJ,IAAL,CAAUI,aAAV,CAAwBH,KAA5C;AACA,UAAII,GAAG,GAAG,KAAKL,IAAL,CAAUK,GAAV,CAAcJ,KAAxB;;AAEA,UAAII,GAAG,IAAIN,YAAP,IAAuBG,aAAvB,IAAwCC,aAAxC,IAAyDC,aAA7D,EAA4E;AAAA,cAClEE,OADkE,GACtD,KAAK7B,KADiD,CAClE6B,OADkE;AAE1E,cAAMC,WAAW,GAAGD,OAAO,CAACE,SAAR,CAAkBC,IAAI,IAAI;AAC5C,iBAAOA,IAAI,CAACJ,GAAL,KAAaA,GAApB;AACD,SAFmB,CAApB;AAGAC,QAAAA,OAAO,CAACC,WAAD,CAAP,CAAqBR,YAArB,GAAoCA,YAApC;AACAO,QAAAA,OAAO,CAACC,WAAD,CAAP,CAAqBL,aAArB,GAAqCA,aAArC;AACAI,QAAAA,OAAO,CAACC,WAAD,CAAP,CAAqBJ,aAArB,GAAqCA,aAArC;AACAG,QAAAA,OAAO,CAACC,WAAD,CAAP,CAAqBH,aAArB,GAAqCA,aAArC;AACA,aAAKT,QAAL,CAAc;AAAEW,UAAAA;AAAF,SAAd;AACD,OAVD,MAWK,IAAIP,YAAY,IAAIG,aAApB,EAAmC;AACtC,cAAMG,GAAG,GAAG,IAAIK,IAAJ,GAAWC,OAAX,GAAqBC,QAArB,EAAZ;AADsC,cAE9BN,OAF8B,GAElB,KAAK7B,KAFa,CAE9B6B,OAF8B;AAGtCA,QAAAA,OAAO,CAACO,IAAR,CAAa;AAAER,UAAAA,GAAF;AAAON,UAAAA,YAAP;AAAqBG,UAAAA,aAArB;AAAoCC,UAAAA,aAApC;AAAmDC,UAAAA;AAAnD,SAAb;AACA,aAAKT,QAAL,CAAc;AAAEW,UAAAA;AAAF,SAAd;AACD;;AAED,WAAKN,IAAL,CAAUD,YAAV,CAAuBE,KAAvB,GAA+B,EAA/B;AACA,WAAKD,IAAL,CAAUE,aAAV,CAAwBD,KAAxB,GAAgC,EAAhC;AACA,WAAKD,IAAL,CAAUG,aAAV,CAAwBF,KAAxB,GAAgC,EAAhC;AACA,WAAKD,IAAL,CAAUI,aAAV,CAAwBH,KAAxB,GAAgC,EAAhC;AACD,KA5JkB;;AAAA,SA8JnBa,UA9JmB,GA8JLC,MAAD,IAAY;AAAA,YACfT,OADe,GACH,KAAK7B,KADF,CACf6B,OADe;AAEvB,YAAMU,QAAQ,GAAGV,OAAO,CAACW,MAAR,CAAeR,IAAI,IAAI;AACtC,eAAOA,IAAI,CAACJ,GAAL,KAAaU,MAAM,CAACV,GAA3B;AACD,OAFgB,CAAjB;AAGA,WAAKV,QAAL,CAAc;AAAEW,QAAAA,OAAO,EAAEU;AAAX,OAAd;AACD,KApKkB;;AAAA,SAsKnBE,UAtKmB,GAsKLH,MAAD,IAAY;AACvB,WAAKf,IAAL,CAAUK,GAAV,CAAcJ,KAAd,GAAsBc,MAAM,CAACV,GAA7B;AACA,WAAKL,IAAL,CAAUD,YAAV,CAAuBE,KAAvB,GAA+Bc,MAAM,CAAChB,YAAtC;AACA,WAAKC,IAAL,CAAUE,aAAV,CAAwBD,KAAxB,GAAgCc,MAAM,CAACb,aAAvC;AACA,WAAKF,IAAL,CAAUG,aAAV,CAAwBF,KAAxB,GAAgCc,MAAM,CAACZ,aAAvC;AACA,WAAKH,IAAL,CAAUI,aAAV,CAAwBH,KAAxB,GAAgCc,MAAM,CAACX,aAAvC;AACD,KA5KkB;;AAGjB,SAAK3B,KAAL,GAAa;AACX6B,MAAAA,OAAO,EAAE;AADE,KAAb;AAGD;;AAuCDa,EAAAA,iBAAiB,GAAG;AAClB,SAAK5B,aAAL;AACD;;AAED6B,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC;AACA;AACA,QAAIA,SAAS,KAAK,KAAK7C,KAAvB,EAA8B;AAC5B,WAAKU,eAAL;AACD;AACF;;AACDoC,EAAAA,MAAM,GAAG;AAAA,UACCjB,OADD,GACa,KAAK7B,KADlB,CACC6B,OADD;AAEP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAM,MAAA,QAAQ,EAAE,KAAKV,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,GAAG,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,GAAG,EAAC,cAAvB;AAAsC,MAAA,SAAS,EAAC,cAAhD;AAA+D,MAAA,WAAW,EAAC,qBAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,EAME;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,GAAG,EAAC,eAAxB;AAAwC,MAAA,SAAS,EAAC,cAAlD;AAAiE,MAAA,WAAW,EAAC,sBAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CANF,CADF,EAaE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,GAAG,EAAC,eAAvB;AAAuC,MAAA,SAAS,EAAC,cAAjD;AAAgE,MAAA,WAAW,EAAC,sBAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CAbF,EAmBE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,GAAG,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,GAAG,EAAC,eAA3B;AAA2C,MAAA,SAAS,EAAC,cAArD;AAAoE,MAAA,WAAW,EAAC,kBAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,CAnBF,EA0BE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA1BF,CAFF,CADF,CAFF,EAoCE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQ;AAAI,MAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAR,CADF,CADF,CApCF,EAyCE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEIU,OAAO,CACJkB,GADH,CACOlB,OAAO,IACV;AAAK,MAAA,GAAG,EAAEA,OAAO,CAACD,GAAlB;AAAuB,MAAA,SAAS,EAAC,iBAAjC;AAAmD,MAAA,KAAK,EAAE;AAAEoB,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,WAAW,EAAE;AAA/B,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BpB,OAAO,CAACP,YAApC,CADF,EAEE;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BO,OAAO,CAACJ,aAAlC,CAFF,EAGE;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BI,OAAO,CAACH,aAAlC,CAHF,EAIE;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BG,OAAO,CAACF,aAAlC,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,OAAO,EAAE,KAAKuB,SAAtB;AAAiC,MAAA,SAAS,EAAC,cAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EACiF,GADjF,EAEE;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKb,UAAL,CAAgBR,OAAhB,CAAvB;AAAiD,MAAA,SAAS,EAAC,cAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAE4F,GAF5F,EAGE;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKY,UAAL,CAAgBZ,OAAhB,CAAvB;AAAiD,MAAA,SAAS,EAAC,cAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CALF,CADF,CAFJ,CAFJ,CADF,CAzCF,CADF;AAkED;;AA7H4B;;AA8K9B;AAED,eAAejC,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport fire from '../Firebase/fire';\n\nclass Client extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      clients: []\n    }\n  }\n\n  _handleEdit = () => {\n    const { editCardName, keyCard, keyList } = this.state;\n    // console.log(editCardName);\n    // console.log(keyCard);\n\n    if (editCardName !== \"\") {\n      // console.log(\"You can edit\");\n\n      fire\n        .database()\n        .ref(\"cards/\")\n        .update({\n          [keyCard]: {\n            cardName: editCardName,\n            listKey: keyList\n          }\n        });\n    } else {\n      // console.log(\"You can't edit\");\n      alert(\"Card cannot be empty\");\n    }\n  };\n\n  writeClientData = () => {\n    fire.database().ref('clients').set(this.state);\n    console.log('DATA SAVED');\n  }\n\n  getClientData = () => {\n    let ref = fire.database().ref('clients');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      this.setState(state);\n    });\n    console.log('DATA RETRIEVED');\n  }\n\n  componentDidMount() {\n    this.getClientData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // check on previous state\n    // only write when it's different with the new state\n    if (prevState !== this.state) {\n      this.writeClientData();\n    }\n  }\n  render() {\n    const { clients } = this.state;\n    return (\n      <div className=\"container\">\n\n        <div className='row'>\n          <div className='col-xl-12'>\n            <h2>Add new clients here</h2>\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"form-row\">\n                <input type='hidden' ref='uid' />\n                <div className=\"form-group col-md-6\">\n                  <h4>Business Name</h4>\n                  <input type=\"text\" ref='businessName' className=\"form-control\" placeholder=\"Enter Business Name\" />\n                </div>\n                <div className=\"form-group col-md-6\">\n                  <h4>Business Email</h4>\n                  <input type=\"email\" ref='businessEmail' className=\"form-control\" placeholder=\"Enter Business Email\" />\n                </div>\n\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group col-md-12\">\n                  <h4>Business Phone</h4>\n                  <input type=\"text\" ref='businessPhone' className=\"form-control\" placeholder=\"Enter Business Phone\" />\n                </div>\n              </div>\n              <div className=\"form-row\">\n                <input type='hidden' ref='uid' />\n                <div className=\"form-group col-md-12\">\n                  <h4>Notes</h4>\n                  <input type=\"textarea\" ref='businessNotes' className=\"form-control\" placeholder=\"Enter Notes here\" />\n                </div>\n              </div>\n              <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n            </form>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className='col-xl-12'>\n            <center><h1 className=\"bgf\">Client List</h1></center>\n          </div>\n        </div>\n        <div className='row'>\n          <div className='col-xl-12'>\n            {\n              clients\n                .map(clients =>\n                  <div key={clients.uid} className=\"card float-left\" style={{ width: '550px', marginRight: '1rem' }}>\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">{clients.businessName}</h5>\n                      <p className=\"card-text\">{clients.businessEmail}</p>\n                      <p className=\"card-text\">{clients.businessPhone}</p>\n                      <p className=\"card-text\">{clients.businessNotes}</p>\n                      <center>\n                        <button onClick={this.showModal} className=\"btn btn-link\">View Client</button>{' '}\n                        <button onClick={() => this.removeData(clients)} className=\"btn btn-link\">Delete</button>{' '}\n                        <button onClick={() => this.updateData(clients)} className=\"btn btn-link\">Edit</button>\n                      </center>\n                    </div>\n                  </div>\n                )\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let businessName = this.refs.businessName.value;\n    let businessEmail = this.refs.businessEmail.value;\n    let businessPhone = this.refs.businessPhone.value;\n    let businessNotes = this.refs.businessNotes.value;\n    let uid = this.refs.uid.value;\n\n    if (uid && businessName && businessEmail && businessPhone && businessNotes) {\n      const { clients } = this.state;\n      const clientIndex = clients.findIndex(data => {\n        return data.uid === uid\n      });\n      clients[clientIndex].businessName = businessName;\n      clients[clientIndex].businessEmail = businessEmail;\n      clients[clientIndex].businessPhone = businessPhone;\n      clients[clientIndex].businessNotes = businessNotes;\n      this.setState({ clients });\n    }\n    else if (businessName && businessEmail) {\n      const uid = new Date().getTime().toString();\n      const { clients } = this.state;\n      clients.push({ uid, businessName, businessEmail, businessPhone, businessNotes })\n      this.setState({ clients });\n    }\n\n    this.refs.businessName.value = '';\n    this.refs.businessEmail.value = '';\n    this.refs.businessPhone.value = '';\n    this.refs.businessNotes.value = '';\n  }\n\n  removeData = (client) => {\n    const { clients } = this.state;\n    const newState = clients.filter(data => {\n      return data.uid !== client.uid;\n    });\n    this.setState({ clients: newState });\n  }\n\n  updateData = (client) => {\n    this.refs.uid.value = client.uid;\n    this.refs.businessName.value = client.businessName;\n    this.refs.businessEmail.value = client.businessEmail;\n    this.refs.businessPhone.value = client.businessPhone;\n    this.refs.businessNotes.value = client.businessNotes;\n  }\n};\n\nexport default Client;"]},"metadata":{},"sourceType":"module"}